{% extends "layout.html" %}
{% block content %}

<h2>Daily Entry</h2>

<!-- DATE SELECTION (ONLY ONCE) -->
<form method="GET" class="mb-4">
    <label>Select Date</label>
    <input type="date" name="date" value="{{ selected_date }}" required>
    <button class="btn btn-primary btn-sm">Set Date</button>
</form>

{% if selected_date %}

<h5>Adding entries for: {{ selected_date }}</h5>

<form method="POST">

<input type="hidden" name="date" value="{{ selected_date }}">

<div class="mb-3">
    <label>Member</label>
    <select name="member" class="form-control">
        {% for m in members %}
        <option value="{{ m[0] }}">{{ m[1] }}</option>
        {% endfor %}
    </select>
</div>

<div class="form-check">
    <input type="checkbox" name="breakfast" class="form-check-input">
    <label class="form-check-label">Breakfast (₹20)</label>
</div>

<div class="form-check">
    <input type="checkbox" name="veg" class="form-check-input">
    <label class="form-check-label">Veg (₹50)</label>
</div>

<div class="form-check">
    <input type="checkbox" name="nonveg" class="form-check-input">
    <label class="form-check-label">NonVeg (₹90)</label>
</div>

<div class="form-check">
    <input type="checkbox" name="night" class="form-check-input">
    <label class="form-check-label">Night (₹30)</label>
</div>

<br>
<button class="btn btn-success">Add Entry</button>

</form>

{% endif %}

{% endblock %}